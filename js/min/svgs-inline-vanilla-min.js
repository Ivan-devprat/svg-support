document.addEventListener("DOMContentLoaded",(function(e){function t(e){if(!("IMG"!==e.nodeName||svgSettings.skipNested&&e.closest("."+target)&&e.closest("."+target).querySelector('img[src*=".svg"]')!==e)){var t=e.id,s=e.className,r=e.src;if(r.endsWith("svg")){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var o=i.responseText;let r;const d=undefined;var a=(new DOMParser).parseFromString(o,"text/html").getElementsByTagName("svg")[0],l=a.id;if(void 0===t||""===t?void 0===l||""===l?(t="svg-replaced-"+n,a.setAttribute("id",t)):t=l:a.setAttribute("id",t),void 0!==s&&""!==s&&a.setAttribute("class",s+" replaced-svg svg-replaced-"+n),a.removeAttribute("xmlns:a"),"on"===frontSanitizationEnabled&&""!==a.outerHTML){var c=DOMPurify.sanitize(a.outerHTML);e.outerHTML=c}else e.replaceWith(a);n++}else 4===i.readyState&&200!==i.status&&console.error("Failed to load SVG:",r)},i.open("GET",r,!1),i.send(null)}}}function s(e){if(e.childNodes.length>0)for(var n=0;n<e.childNodes.length;n++){var r;if("IMG"===e.childNodes[n].nodeName)t(e.childNodes[n]);else s(e.childNodes[n])}}let n=0;(bodhisvgsInlineSupport=function(){if(console.log("Running bodhisvgsInlineSupport"),"true"===ForceInlineSVGActive)for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++)void 0!==e[n].src&&e[n].src.match(/\.(svg)/)&&(e[n].classList.contains(cssTarget.ForceInlineSVG)||e[n].classList.add(cssTarget.ForceInlineSVG));var r;if(String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var s=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>s.length)&&(t=s.length),t-=e.length;var n=s.lastIndexOf(e,t);return-1!==n&&n===t}),String.prototype.endsWith=function(e){var t=this.length-e.length;return t>=0&&this.lastIndexOf(e)===t},"string"==typeof(r="true"===ForceInlineSVGActive?"string"==typeof cssTarget.Bodhi?cssTarget.ForceInlineSVG:"style-svg":"string"==typeof cssTarget?cssTarget:"style-svg")){r=r.replace("img.","");for(var e=document.getElementsByClassName(r),n=0;n<e.length;n++){var i;if(void 0===e[n].src)s(e[n]);else t(e[n])}}else console.error("Target is not a string:",r)})()}));